---
title: "npm audit fix --force ã—ã¦ã‚‚ç›´ã‚‰ãªã„ï¼ã€œTypeScriptã¨React/Next.jsæœ¬5ç« ã§ç™ºç”Ÿã—ãŸå•é¡Œã‚’è§£æ±ºã™ã‚‹"
emoji: "ğŸ‰"
type: "tech"
topics:
  - "nodejs"
  - "storybook"
  - "npm"
  - "ç’°å¢ƒæ§‹ç¯‰"
published: true
published_at: "2022-08-22 17:07"
---


[TypeScriptã¨React/Next.jsã§ã¤ãã‚‹å®Ÿè·µWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º](https://amzn.to/3ClkvRs)
5ç« ã§ç’°å¢ƒæ§‹ç¯‰ä¸­ã«ç™ºç”Ÿã—ãŸè­¦å‘ŠãŒæ°—ã«ãªã£ãŸã®ã§è§£æ±ºãƒ¡ãƒ¢ã§ã™ã€‚

# å•é¡Œã®package.json(5ç« æœ€å¾Œï¼‰

```json:package.json
{
  "name": "can-badge-market-nextjs",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint --dir src",
    "format": "next lint --fix --dir src",
    "storybook": "start-storybook -p 6006",
    "build-storybook": "build-storybook",
    "test": "jest"
  },
  "dependencies": {
    "@emotion/react": "^11.10.0",
    "@emotion/styled": "^11.10.0",
    "@mui/icons-material": "^5.8.4",
    "@mui/material": "^5.10.1",
    "next": "12.2.5",
    "react": "18.2.0",
    "react-content-loader": "^6.2.0",
    "react-dom": "18.2.0",
    "react-hook-form": "^7.34.2",
    "swr": "^1.3.0"
  },
  "devDependencies": {
    "@babel/core": "^7.18.10",
    "@babel/plugin-proposal-class-properties": "^7.18.6",
    "@babel/plugin-proposal-private-methods": "^7.18.6",
    "@babel/plugin-proposal-private-property-in-object": "^7.18.6",
    "@mdx-js/react": "^2.1.3",
    "@storybook/addon-actions": "^6.5.10",
    "@storybook/addon-docs": "^6.3.12",
    "@storybook/addon-essentials": "^6.4.22",
    "@storybook/addon-interactions": "^6.5.10",
    "@storybook/addon-links": "^6.5.10",
    "@storybook/addon-postcss": "^2.0.0",
    "@storybook/builder-webpack5": "^6.5.10",
    "@storybook/manager-webpack5": "^6.5.10",
    "@storybook/react": "^6.1.21",
    "@storybook/testing-library": "^0.0.13",
    "@testing-library/jest-dom": "^5.16.5",
    "@testing-library/react": "^13.3.0",
    "@types/node": "18.7.8",
    "@types/react": "18.0.17",
    "@types/react-content-loader": "^4.0.0",
    "@types/react-dom": "18.0.6",
    "@typescript-eslint/eslint-plugin": "^5.33.1",
    "@typescript-eslint/parser": "^5.33.1",
    "autoprefixer": "^10.4.8",
    "babel-loader": "^8.2.5",
    "eslint": "^8.22.0",
    "eslint-config-next": "12.2.5",
    "eslint-config-prettier": "^8.5.0",
    "eslint-plugin-import": "^2.26.0",
    "eslint-plugin-prettier": "^4.2.1",
    "eslint-plugin-react": "^7.30.1",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-storybook": "^0.6.4",
    "jest": "^28.1.3",
    "jest-environment-jsdom": "^28.1.3",
    "postcss": "^8.4.16",
    "prettier": "^2.7.1",
    "tailwindcss": "^3.1.8",
    "tsconfig-paths-webpack-plugin": "^4.0.0",
    "typescript": "4.7.4",
    "typescript-eslint": "^0.0.1-alpha.0"
  }
}
```

```sh
#npm installã™ã‚‹ãŸã³ã«è­¦å‘Šã•ã‚Œã‚‹ã€‚
22 high severity vulnerabilities

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.
```

22ä»¶ã®æ·±åˆ»åº¦ã®é«˜ã„è„†å¼±æ€§

æ³¨æ„ã‚’æ‰•ã†å¿…è¦ã®ãªã„å•é¡Œã«å¯¾å‡¦ã™ã‚‹ãŸã‚ã«ã€å®Ÿè¡Œã—ã¾ã™ã€‚
  npm audit fix

ã„ãã¤ã‹ã®å•é¡Œã¯ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå¿…è¦ã§ã‚ã‚Šã€åˆ¥ã®ä¾å­˜é–¢ä¿‚ã‚’é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
åˆ¥ã®ä¾å­˜é–¢ä¿‚ã‚’é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ï¼ˆDeepLç¿»è¨³ï¼‰


`npm audit fix`ã—ã¦ã‚‚
`npm audit fix --force`ã—ã¦ã‚‚

è§£æ±ºã§ããªã‹ã£ãŸã®ã§ã€èª¿ã¹ãŸã“ã¨ã‚„è§£æ±ºç­–ã‚’ãƒ¡ãƒ¢ã£ã¦ãŠãã¾ã™ã€‚

## çµŒç·¯ï¼š

https://zenn.dev/kugyu10/articles/ab393a8e8ba334


## ãã‚‚ãã‚‚ä½•ãŒèµ·ãã¦ã„ã‚‹ã®ï¼Ÿ

â†“â†“é–“é•ã£ã¦ã„ãŸã‚‰ã”æŒ‡æ‘˜ãã ã•ã„ã€‚â†“â†“

### npmã¨ã¯ã€
Javascriptã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç®¡ç†ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã€‚
Node.jsã‚’ã„ã‚ŒãŸã‚‰ã¤ã„ã¦ãã¾ã™ã€‚

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨è¨€ã£ãŸã‚Šã‚‚ã™ã‚‹ï¼‰ã¨ã¯ã€
ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ 
ï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨è¨€ã£ãŸã‚Šã‚‚ã™ã‚‹ï¼‰ã‚’ä¸€çºã‚ã«ã—ãŸã‚‚ã®ã€‚

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯
node_modules/ã€€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å…¥ã£ã¦ã„ãã¾ã™ã€‚

ã¡ãªã¿ã«ã€`npm`ã¨ä¼¼ãŸã‚ˆã†ãª
ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã§ãã‚‹ã‚‚ã®ã«
`yarn`ã‚„`pnpm`ãŒã‚ã‚Šã¾ã™ã€‚

æœ¬æ›¸ã§ã¯`npm`ã‚’ä½¿ã£ã¦ã„ãŸã€ã¨ã„ã†ç†ç”±ã ã‘ã§
ä»Šã®ã¨ã“ã‚`npm`ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚


### package.jsonã¨ã¯ã€

`npm`ãŒç†è§£ã§ãã‚‹ã‚ˆã†ã«ã€
ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®
ã€Œä¾å­˜é–¢ä¿‚ã€ã‚’è¨˜è¿°ã—ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã®ã“ã¨ã€‚

`npm -i (ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å)`

ã¿ãŸã„ã«ã€æ–°ã—ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã³ã«
ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨˜è¿°ãŒå¢—ãˆã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

ãªã®ã§ã€ã‚ãªãŸãŒã€ä½¿ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®
ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ãŸã„/ä¸‹ã’ãŸã„ã€€ãªã©ã‚ã£ãŸã‚‰
package.jsonã‚’ç·¨é›†ã—ã¾ã™ã€‚è¨˜è¿°æ–¹æ³•ã¯å‰²æ„›ã€‚

ã¼ãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯
`@storybook/addon-docs`ã‚„
`@storybook/addon-essentials`ã‚„
ãã®ä»–ã‚‚ã‚ã‚‚ã‚ãŸãã•ã‚“å¿…è¦ãªã‚“ã ã‘ã©ã€
package.jsonã‚’ã¿ã¦ã„ã„æ„Ÿã˜ã«ãŠé¡˜ã„ã—ã¾ã™ã­ï¼

ã¨ã€`npm`ã•ã‚“ã«ä¸¸æŠ•ã’ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚

Githubãªã©ã‹ã‚‰package.jsonã‚’ã‚‚ã£ã¦ããŸå ´åˆã€
å‹•ã‹ã™å‰ã«
`npm install`ã‚’ã—ã¦package.jsonã«è¨˜è¿°ã•ã‚Œã¦ã‚‹
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«/ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¨éƒ¨ã‚¤ãƒ³ã‚¹ã‚³ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚


### package-lock.jsonã¨ã¯ã€

å‰è¿°ã®é€šã‚Špackage.jsonã«ã¯ã€
ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿…è¦ãªä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«/ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒ
è¨˜è¿°ã•ã‚Œã¦ã¾ã™ã€‚

ä¸€æ–¹ã€`package-lock.json`ã«ã¯ã€
**ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«/ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã€ä¾å­˜ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«/ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**ã‚‚ã€
è‡ªå‹•çš„ã«è¨˜è¿°ã•ã‚Œã¾ã™ã€‚


ã¼ãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€
`@storybook/addon-docs`ã‚’ä½¿ã†ã‚“ã ã‘ã©ã€
ãã‚Œã«ã¯`@storybook/core-common`ãŒå¿…è¦ã§ã€
ãã‚Œã«ã¯`webpack`ãŒå¿…è¦ãªã‚“ã ã‘ã©ã€
ãã‚ŒãŒå‹•ãã«ã¯`watchpack`ã£ã¦ã‚„ã¤ãŒå¿…è¦ã§ã€
ãã‚Œã«ã¯`chokidar`ãŒå¿…è¦ã§
ãã‚Œã«ã¯`glob-parent`ãŒå¿…è¦ãªã‚“ã ãƒ»ãƒ»ãƒ»

ã¿ãŸã„ãªã“ã¨ãŒå»¶ã€…ã¨è¨˜è¿°ã•ã‚Œã¦ã¾ã™ã€‚

```sh:å¾Œè¿°ã™ã‚‹ glob-parentã€€ä¾å­˜ãƒ„ãƒªãƒ¼å‡ºåŠ›çµæœ
ï¼ˆã¼ãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰
â”œâ”€â”¬ @storybook/addon-docs@6.5.10
â”‚ â””â”€â”¬ @storybook/core-common@6.5.10
â”‚   â””â”€â”¬ webpack@4.46.0
â”‚     â””â”€â”¬ watchpack@1.7.5
â”‚       â””â”€â”¬ watchpack-chokidar2@2.0.1
â”‚         â””â”€â”¬ chokidar@2.1.8
â”‚           â””â”€â”€ glob-parent@3.1.0
```

ä¾å­˜é–¢ä¿‚ã§ã„ã†ã¨ã€å­ã€å­«ã€ã²å­«ã€ã‚„ã—ã‚ƒã”ã€ã€ã€
ã¿ãŸã„ãªè¤‡é›‘ã‹ã¤æ·±ã„é–¢ä¿‚ãŒç™ºç”Ÿã™ã‚‹ã®ãŒé€šå¸¸ã§ã™ã€‚

`glob-parent`ãªã‚“ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸè¦šãˆãŒãªã„ã‚“ã ã‘ã©ãªã€

ã£ã¦æ€ã£ã¦ãŸã‘ã©ã€ãã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ä»Šå›è­¦å‘ŠãŒã§ã¾ã—ãŸã€‚
ãã‚Œã¯ã“ã†ã„ã†ç†ç”±ã‹ã‚‰ã ã£ãŸã‚“ã§ã™ã­ã€‚

**package-lock.jsonã¯ã€åŸºæœ¬çš„ã«ã¯é–‹ç™ºè€…ãŒç·¨é›†ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“**

ï¼ˆã¾ã€ä»Šå›ã€ã„ã˜ã£ã¡ã‚ƒã†ã‚“ã ã‘ã©ï¼‰

**package-lock.jsonã¯ã€Gitç®¡ç†åŒ–ã«ãŠãã¹ãã§ã™**

### node_modulesã¨ã¯ã€

`package.json`ã€ãã—ã¦
`package-lock.json`ã‚’å…ƒã«ã—ã¦
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹å„ç¨®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«/ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®
ä¿å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚

**é€šå¸¸ã¯.gitignoreã—ã¦ã€Gitç®¡ç†ä¸‹ã«ç½®ãã¾ã›ã‚“**

`npm install`
ã™ã‚Œã°ãŠãªã˜ã“ã¨ãŒèµ·ãã‚‹ã‹ã‚‰ä¸è¦ã§ã™ã€‚

æ­£ç¢ºã«è¨€ã†ã¨ã€
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãªã©ã¯
æ—¥ã€…ç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚

npm installã™ã‚‹ãŸã³ã«ã€`package.json`ã§
è¨±ã•ã‚Œã¦ã„ã‚‹ç¯„å›²ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸/ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®
ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãŒè¡Œã‚ã‚Œã¾ã™ã€‚

ãã®å·®ç•°ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¤‰æ›´ã§ã¯ãªã„ã€æ¤œå‡ºã™ã¹ãã§ãªã„å·®ç•°ã ã‹ã‚‰ã§ã™ã€‚


### ã§ã€ä»Šå›ã®è­¦å‘Šã®åŸå› ã¯ï¼Ÿ

ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«/ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§è„†å¼±æ€§ãŒå ±å‘Šã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
å¤§æŠµã€ã™ãã«ä¿®æ­£ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚‹ã®ã§
ãã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ãˆã°OKãªã®ã§ã™ãŒã€

ã©ã“ã‹ã®å­ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€å­«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€ã²å­«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒ
**ã€Œå‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã€ã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½¿ã„ãŸã„ã€**
ã¨ä¾å­˜é–¢ä¿‚ã‚’è¨˜è¿°ã—ãŸã¾ã¾ã®ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

ï¼ˆæ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒ
ã€€ä»•æ§˜å¤‰æ›´ã—ã¦ã—ã¾ã†å¯èƒ½æ€§ã¯å¸¸ã«ã‚ã‚‹ã‹ã‚‰ã€
 ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã ã‘ã‚†ã‚‹ã™ã€ã¿ãŸã„ãª
 æŒ‡å®šã‚’ã—ã¦ã„ã‚‹ã“ã¨ãŒã»ã¨ã‚“ã©ã§ã™ï¼‰

ã‚«ãƒ³ã‚¿ãƒ³ãªã‚‚ã®ãªã‚‰

`npm audit fix`
`npm audit fix --force`

ã§ç›´ã›ã‚‹ã®ã§ã™ãŒã€

`storybook`ã®ä¾å­˜é–¢ä¿‚ã¯ã‚„ã‚„ã“ã—ã„ã®ã‹ã€
ä»Šå›ãã‚Œã§ã¯ç›´ã›ãªã„è­¦å‘ŠãŒç™ºç”Ÿã—ã¦ã—ã¾ã£ãŸã€ã¨ã„ã†ã“ã¨ã§ã™ã€å¤šåˆ†ã€‚

â†‘â†‘é–“é•ã£ã¦ã„ãŸã‚‰ã”æŒ‡æ‘˜ãã ã•ã„ã€‚â†‘â†‘


## ç›´ã—æ–¹ã€å‚è€ƒã«ã—ãŸè¨˜äº‹

https://zenn.dev/mizuki/articles/1b958248024875

ç¥ã€‚

package-lock.jsonã‚’ç›´æ¥ç›´ã—ã¦ã€
node_modulesã‚’å…¨éƒ¨æ¶ˆã—ã¦
`npm install`ã‚’ã—ãªãŠã™ã€ã¨ã„ã†æ–¹æ³•ã€‚


# â‘ ã¾ãšã€npm audit

```sh:Terminal
npm audit

# npm audit report

glob-parent  <5.1.2
Severity: high
glob-parent before 5.1.2 vulnerable to Regular Expression Denial of Service in enclosure regex - https://github.com/advisories/GHSA-ww39-953v-wcq6
No fix available
node_modules/cpy/node_modules/glob-parent
node_modules/watchpack-chokidar2/node_modules/glob-parent
  chokidar  1.0.0-rc1 - 2.1.8
  Depends on vulnerable versions of glob-parent
  node_modules/watchpack-chokidar2/node_modules/chokidar
    watchpack-chokidar2  *
    Depends on vulnerable versions of chokidar
    node_modules/watchpack-chokidar2
      watchpack  1.7.2 - 1.7.5
      Depends on vulnerable versions of watchpack-chokidar2
      node_modules/@storybook/core-common/node_modules/watchpack
        webpack  4.44.0 - 4.46.0
        Depends on vulnerable versions of watchpack
        node_modules/@storybook/core-common/node_modules/webpack
  fast-glob  <=2.2.7
  Depends on vulnerable versions of glob-parent
  node_modules/cpy/node_modules/fast-glob
    globby  8.0.0 - 9.2.0
    Depends on vulnerable versions of fast-glob
    node_modules/cpy/node_modules/globby
      cpy  7.0.0 - 8.1.2
      Depends on vulnerable versions of globby
      node_modules/cpy
        @storybook/core-server  <=7.0.0-alpha.6
        Depends on vulnerable versions of @storybook/csf-tools
        Depends on vulnerable versions of @storybook/csf-tools
        Depends on vulnerable versions of cpy
        node_modules/@storybook/addon-essentials/node_modules/@storybook/addon-docs/node_modules/@storybook/core/node_modules/@storybook/core-server
        node_modules/@storybook/addon-essentials/node_modules/@storybook/react/node_modules/@storybook/core/node_modules/@storybook/core-server
        node_modules/@storybook/core-server
          @storybook/core  >=6.2.0-alpha.0
          Depends on vulnerable versions of @storybook/core-server
          node_modules/@storybook/addon-essentials/node_modules/@storybook/addon-docs/node_modules/@storybook/core
          node_modules/@storybook/addon-essentials/node_modules/@storybook/react/node_modules/@storybook/core
          node_modules/@storybook/core
            @storybook/addon-docs  *
            Depends on vulnerable versions of @mdx-js/mdx
            Depends on vulnerable versions of @storybook/core
            Depends on vulnerable versions of @storybook/csf-tools
            Depends on vulnerable versions of @storybook/mdx1-csf
            Depends on vulnerable versions of @storybook/react
            node_modules/@storybook/addon-docs
            node_modules/@storybook/addon-essentials/node_modules/@storybook/addon-docs
              @storybook/addon-essentials  <=5.3.0-rc.14 || 6.0.0-alpha.0 - 6.5.0-rc.1
              Depends on vulnerable versions of @storybook/addon-docs
              node_modules/@storybook/addon-essentials
            @storybook/react  6.2.0-alpha.0 - 6.5.11-alpha.0
            Depends on vulnerable versions of @storybook/core
            node_modules/@storybook/addon-essentials/node_modules/@storybook/react
            node_modules/@storybook/react

trim  <0.0.3
Severity: high
Regular Expression Denial of Service in trim - https://github.com/advisories/GHSA-w5p7-h5w8-2hfq
No fix available
node_modules/trim
  remark-parse  <=8.0.3
  Depends on vulnerable versions of trim
  node_modules/remark-parse
    @mdx-js/mdx  <=1.6.22
    Depends on vulnerable versions of remark-mdx
    Depends on vulnerable versions of remark-parse
    node_modules/@mdx-js/mdx
      @mdx-js/loader  0.15.5 - 1.6.22
      Depends on vulnerable versions of @mdx-js/mdx
      node_modules/@mdx-js/loader
      @storybook/addon-docs  *
      Depends on vulnerable versions of @mdx-js/mdx
      Depends on vulnerable versions of @storybook/core
      Depends on vulnerable versions of @storybook/csf-tools
      Depends on vulnerable versions of @storybook/mdx1-csf
      Depends on vulnerable versions of @storybook/react
      node_modules/@storybook/addon-docs
      node_modules/@storybook/addon-essentials/node_modules/@storybook/addon-docs
        @storybook/addon-essentials  <=5.3.0-rc.14 || 6.0.0-alpha.0 - 6.5.0-rc.1
        Depends on vulnerable versions of @storybook/addon-docs
        node_modules/@storybook/addon-essentials
      @storybook/csf-tools  <=6.5.11-alpha.0
      Depends on vulnerable versions of @mdx-js/mdx
      Depends on vulnerable versions of @storybook/mdx1-csf
      node_modules/@storybook/addon-essentials/node_modules/@storybook/csf-tools
      node_modules/@storybook/csf-tools
        @storybook/core-server  <=7.0.0-alpha.6
        Depends on vulnerable versions of @storybook/csf-tools
        Depends on vulnerable versions of @storybook/csf-tools
        Depends on vulnerable versions of cpy
        node_modules/@storybook/addon-essentials/node_modules/@storybook/addon-docs/node_modules/@storybook/core/node_modules/@storybook/core-server
        node_modules/@storybook/addon-essentials/node_modules/@storybook/react/node_modules/@storybook/core/node_modules/@storybook/core-server
        node_modules/@storybook/core-server
          @storybook/core  >=6.2.0-alpha.0
          Depends on vulnerable versions of @storybook/core-server
          node_modules/@storybook/addon-essentials/node_modules/@storybook/addon-docs/node_modules/@storybook/core
          node_modules/@storybook/addon-essentials/node_modules/@storybook/react/node_modules/@storybook/core
          node_modules/@storybook/core
            @storybook/react  6.2.0-alpha.0 - 6.5.11-alpha.0
            Depends on vulnerable versions of @storybook/core
            node_modules/@storybook/addon-essentials/node_modules/@storybook/react
            node_modules/@storybook/react
      @storybook/mdx1-csf  *
      Depends on vulnerable versions of @mdx-js/mdx
      node_modules/@storybook/mdx1-csf
    remark-mdx  <=1.6.22
    Depends on vulnerable versions of remark-parse
    node_modules/remark-mdx

trim-newlines  <3.0.1
Severity: high
Uncontrolled Resource Consumption in trim-newlines - https://github.com/advisories/GHSA-7p7h-4mm5-852v
fix available via `npm audit fix`
node_modules/trim-newlines
  meow  3.4.0 - 5.0.0
  Depends on vulnerable versions of trim-newlines
  node_modules/meow

22 high severity vulnerabilities

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.
```

ã¾ã¨ã‚ã‚‹ã¨ã€

```
glob-parent  <5.1.2
trim  <0.0.3
trim-newlines  <3.0.1
```

ã®3ã¤ã«highãªè„†å¼±æ€§ãŒè¦‹ã¤ã‹ã£ã¦ã„ã‚‹ã€ã¨ã„ã†ã“ã¨ã‚‰ã—ã„ã€‚


# â‘¡ã²ã¨ã¤ãšã¤ã€npm ls ã™ã‚‹

npm auditã®ãƒ­ã‚°ã ã¨ã¿ãšã‚‰ã„ã®ã§ã€`npm ls (ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å)`ã§ä¾å­˜é–¢ä¿‚ã‚’ã¿ã¦ã¿ã‚‹

```sh
npm ls glob-parent

can-badge-market-nextjs@0.1.0 /Users/kugyu10/work/practice/can-badge-market-nextjs
â”œâ”€â”¬ @storybook/addon-docs@6.5.10
â”‚ â””â”€â”¬ @storybook/core-common@6.5.10
â”‚   â””â”€â”¬ webpack@4.46.0
â”‚     â””â”€â”¬ watchpack@1.7.5
â”‚       â””â”€â”¬ watchpack-chokidar2@2.0.1
â”‚         â””â”€â”¬ chokidar@2.1.8
â”‚           â””â”€â”€ glob-parent@3.1.0
â”œâ”€â”¬ @storybook/react@6.5.10
â”‚ â””â”€â”¬ @storybook/core@6.5.10
â”‚   â””â”€â”¬ @storybook/core-server@6.5.10
â”‚     â””â”€â”¬ cpy@8.1.2
â”‚       â””â”€â”¬ globby@9.2.0
â”‚         â””â”€â”¬ fast-glob@2.2.7
â”‚           â””â”€â”€ glob-parent@3.1.0
â”œâ”€â”¬ eslint@8.22.0
â”‚ â””â”€â”€ glob-parent@6.0.2
â””â”€â”¬ tailwindcss@3.1.8
  â”œâ”€â”¬ chokidar@3.5.3
  â”‚ â””â”€â”€ glob-parent@5.1.2
  â”œâ”€â”¬ fast-glob@3.2.11
  â”‚ â””â”€â”€ glob-parent@5.1.2
  â””â”€â”€ glob-parent@6.0.2 deduped
```

```sh
npm ls trim

can-badge-market-nextjs@0.1.0 /Users/kugyu10/work/practice/can-badge-market-nextjs
â””â”€â”¬ @storybook/addon-docs@6.5.10
  â””â”€â”¬ @storybook/mdx1-csf@0.0.1
    â””â”€â”¬ @mdx-js/mdx@1.6.22
      â””â”€â”¬ remark-parse@8.0.3
        â””â”€â”€ trim@0.0.1
```

```sh
npm ls trim-newlines

can-badge-market-nextjs@0.1.0 /Users/kugyu10/work/practice/can-badge-market-nextjs
â””â”€â”¬ @storybook/react@6.5.10
  â””â”€â”¬ @storybook/core@6.5.10
    â””â”€â”¬ @storybook/core-server@6.5.10
      â””â”€â”¬ x-default-browser@0.4.0
        â””â”€â”¬ default-browser-id@1.0.4
          â””â”€â”¬ meow@3.7.0
            â””â”€â”€ trim-newlines@1.0.0
```

# â‘¢package-lock.jsonã‚’ã„ã˜ã‚‹

å‰è¿°ã—ãŸã¨ãŠã‚Šã€ç›´æ¥ç·¨é›†ã¯æ¨å¥¨ã•ã‚Œãªã„ãƒ•ã‚¡ã‚¤ãƒ«ãªã®ã§ã€
ä¾å­˜é–¢ä¿‚ã‚’å£Šã—ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ç¾ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠã„ãŸã‚Šã€
é€€é¿ã—ãŸã‚Šã—ã¦ãŠãã¨ã„ã„ã§ã™ã€‚

ã¨ã‚Šã‚ãˆãšã€ä½•ã‚‚è€ƒãˆãšã«
æŒ‡æ‘˜ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æœ€æ–°ç‰ˆã«ç½®ãæ›ãˆã¦ã¿ã¾ã™ã€‚
ï¼ˆæœ€æ–°ã˜ã‚ƒãªã„ã‘ã©ã€è„†å¼±ã§ã‚‚ãªã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æ”¾ç½®ï¼‰

|ãƒ©ã‚¤ãƒ–ãƒ©ãƒª|è„†å¼±æ€§ã®ã‚ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³|2022.8.22æ™‚ã®Latest|
|---|---|---|
|glob-parent| <5.1.2 | [6.0.2](https://www.npmjs.com/package/glob-parent) |
|trim| <0.0.3 | [1.0.1](https://www.npmjs.com/package/trim) |
|trim-newlines| <3.0.1 | [4.0.2](https://www.npmjs.com/package/trim-newlines)|


å…¨éƒ¨ã§10ç®‡æ‰€ä»¥ä¸Šã‚ã£ãŸã‘ã©

```diff json:package-lock.json
-        "trim-newlines": "^1.0.0"
+        "trim-newlines": "^4.0.2"
```

ãªã©ã®ã‚ˆã†ã«ã€æ›¸ãæ›ãˆã¾ã—ãŸã€‚


# â‘£node_modulesã‚’å‰Šé™¤

ã‚´ãƒªãƒƒã¨å‰Šé™¤ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãªã®ã§æ³¨æ„ã€‚

```sh
sudo rm -rf node_modules/
```

30ç§’ãã‚‰ã„å¾…ã¤

# â‘¤npm install ã—ãªãŠã—

```sh
npm install
```

5åˆ†ä»¥ä¸Šå¾…ã£ãŸã®ã§ã‚³ãƒ¼ãƒ’ãƒ¼ã§ã‚‚ã€‚

```
14 high severity vulnerabilities
```

ã“ã“ã§ã¾ãŸ`severity vulnerabilities`è­¦å‘Šã§ã¦ã—ã¾ã„ã¾ã—ãŸã€‚

ã‚‚ã†ä¸€åº¦`npm audit fix`ã‹ã‚‰ã‚„ã‚Šç›´ã—ã¾ã™ã€‚

```
npm audit fix

npm ERR! code ERESOLVE
npm ERR! ERESOLVE unable to resolve dependency tree
...
```

ã ã‚ã‹ã€

```
npm audit fix --force

npm WARN using --force Recommended protections disabled.
npm WARN audit No fix available for @storybook/addon-docs@*

added 6 packages, removed 513 packages, changed 3 packages, and audited 2229 packages in 31s

288 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
```

ãŠï¼Ÿ

æ¶ˆãˆãŸï¼Ÿ


# â‘¥èµ·å‹•ç¢ºèª

```sh
npm run test
npm run dev
npm run storybook
```

ä¸€é€šã‚Šå•é¡Œãªã‹ã£ãŸã®ã§è§£æ±ºï¼


# çµè«–

- `package-lock.json` ã‚’ç›´æ¥ç›´ã—ã¦ã€
- `node_modules/`ã‚’å…¨éƒ¨æ¶ˆã—ã¦ã€
- `npm install` ã—ã¦ã€
- `npm audit fix --force` ã™ã‚‹

ã§ã€ã¼ãã®ç’°å¢ƒã§ã¯è§£æ±ºã—ã¾ã—ãŸã€‚

